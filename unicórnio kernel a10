name : Build

on: [push]

env:
  TOOLCHAIN: default
  INSTALLER: yes
  
jobs:
  build:
    runs-on: ubuntu-latest
    
    strategy:
      fail-fast: false
      matrix:
        model: [ "A105FN" ]
        
      steps:
        - uses: actions/checkout@v2
        - uses: actions/setup-python@v2
          with:
            python-version: '3.6'
            
        - name: Kernel Configure
          run: |
            set -e -o pipefail
            ./cruelbuild config \
                         os_patch_level = 2021-02  \
                         model=${{ matrix.model }} \
                         name="Unic√≥rnio-v1.0"     \
                         toolchain=$TOOLCHAIN      \
                         +magisk                   \
                         +nohardeing               \
                         +ttl                      \
                         +wireguard                \
                         +cifs                     \
                         +sdfat                    \
                         +ntfs                     \
                         +morosound                \
                         +boeffla_wl_blocker       \
                         +magisk=canary
                         dtb
                         empty_vbmeta
                         alwais_permit
                         25hz
                         noatime
                         simple_lmk
                         io_bfq
                         io_maple
                         io_fiops
                         io_sio
                         io_zen
                         io_anxiety
                         io_noop
                         io_cfq
                         +sdfat
                         +ntfs
                         +cifs
                         tcp_cubic
                         tcp_westwood
                         tcp_htcp
                         tcp_bbr
                         tcp_bic
                         sched
                         ttl
                         mass_storage
                         +wireguard
                         +morosound
                         +boeffla_wl_blocker
                         nohardening2
                         size
                         performance
                         +nodebug
                         usb_serial
                         fake_config
